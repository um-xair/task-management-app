<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
        .group:hover .clickable {
            pointer-events: auto;
        }
        .clickable {
            pointer-events: none;
        }
        .group:hover .hover-overlay {
            pointer-events: none;
        }
    </style>
    
</head>
<body class="bg-white h-screen flex flex-col">

    <section class="p-6 mt-[120px]">
        <div class="bg-[#ED6F2C] p-6 rounded-[30px] grid grid-cols-4 items-center space-x-4">
            <div class="w-full col-span-1 relative group">
                <img src="assets/pfp-1.jpg" 
                     alt="Profile Picture" 
                     class="rounded-full w-full h-auto transition-all duration-300 ease-in-out group-hover:opacity-60 clickable" 
                     id="profile-img" 
                     onclick="openChangeModal()">
                <div class="absolute inset-0 flex items-center justify-center text-white text-lg font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover-overlay">
                    Edit
                </div>
            </div>
            <div class="col-span-3">
                <h3 class="text-white font-bold text-xl">ALYSSA UMAIRAH</h3>
                <p class="text-white text-sm">Front-end Developer</p>
            </div>
        </div>

        <div id="modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-[30px] p-6 w-[90%] max-w-md relative">
                <button class="absolute top-4 right-4 bg-red-600 rounded-full p-2 flex items-center justify-center" onclick="closeModal()">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF">
                        <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
                    </svg>
                </button>

                <div class="text-center mb-4">
                    <img id="modal-img" src="assets/pfp-1.jpg" alt="Profile Picture" class="w-32 h-32 rounded-full mx-auto mb-4">
                    <h3 id="modal-title" class="text-xl font-bold text-[#263D5F] mb-2">Change Profile Picture</h3>
                    <p id="modal-desc" class="text-gray-700 text-sm mb-4">Click to upload a new profile picture.</p>
                </div>
        
                <label for="file-input" class="w-full border-2 border-dashed border-[#263D5F] p-4 rounded-[20px] flex flex-col items-center justify-center mb-4 cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="#263D5F">
                        <path d="M480-260q75 0 127.5-52.5T660-440q0-75-52.5-127.5T480-620q-75 0-127.5 52.5T300-440q0 75 52.5 127.5T480-260Zm0-80q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM160-120q-33 0-56.5-23.5T80-200v-480q0-33 23.5-56.5T160-760h126l74-80h240l74 80h126q33 0 56.5 23.5T880-680v480q0 33-23.5 56.5T800-120H160Zm0-80h640v-480H638l-73-80H395l-73 80H160v480Zm320-240Z"/>
                    </svg>
                    <span class="text-[#263D5F] text-sm">Upload New Image Here</span>
                    <input type="file" id="file-input" class="hidden">
                </label>

                <button onclick="updateProfilePic()" class="bg-[#ED6F2C] text-white py-3 px-6 rounded-full text-md font-semibold w-full">SAVE</button>
            </div>
        </div>
    </section>
    
    <script>
        function openChangeModal() {
            console.log("Modal opened!");
            document.getElementById("modal").classList.remove("hidden");
        }

        function closeModal() {
            document.getElementById("modal").classList.add("hidden");
        }
    
        document.getElementById("file-input").addEventListener("change", function () {
            const fileInput = this;
            const modalImg = document.getElementById("modal-img");

            if (fileInput.files.length > 0) {
                const file = fileInput.files[0];
                const reader = new FileReader();
            
                reader.onload = function (e) {
                    modalImg.src = e.target.result; 
                };
            
                reader.readAsDataURL(file);
            }
        });

        function updateProfilePic() {
            const fileInput = document.getElementById("file-input");
            const profileImg = document.getElementById("profile-img");
            const modalImg = document.getElementById("modal-img");
        
            if (fileInput.files.length > 0) {
                profileImg.src = modalImg.src;
                closeModal();
            } else {
                alert("Please upload a new image before saving!");
            }
        }
    </script>
    
</body>
</html>
